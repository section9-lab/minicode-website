---
import Layout from '../layouts/Layout.astro';
import { translations, type Locale } from '../lib/translations';

const locale = 'en';
const t = translations[locale as Locale] || translations.en;
---

<Layout title="Cookie Policy - MiniCode" description="Learn about MiniCode's use of cookies and tracking technologies on our website." locale={locale}>
  <section class="py-20 px-6 bg-gradient-to-br from-blue-50 via-white to-purple-50">
    <div class="container mx-auto max-w-4xl">
      <!-- Header -->
      <div class="text-center mb-16">
        <h1 class="text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent">
          Cookie Policy
        </h1>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          Last updated: {new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
        </p>
      </div>

      <div class="prose prose-lg max-w-none">
        <div class="glass-morphism rounded-2xl p-8 md:p-12 space-y-8">

          <!-- What Are Cookies -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">1. What Are Cookies?</h2>
            <p class="text-gray-600 leading-relaxed">
              Cookies are small text files that are stored on your device (computer, tablet, or mobile)
              when you visit a website. They are widely used to make websites work more efficiently and
              to provide information to website owners.
            </p>
          </div>

          <!-- How We Use Cookies -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">2. How We Use Cookies</h2>
            <p class="text-gray-600 leading-relaxed mb-4">
              We use cookies for various purposes to enhance your experience on our website:
            </p>
            <ul class="list-disc list-inside text-gray-600 space-y-2">
              <li>Essential cookies for website functionality</li>
              <li>Analytics cookies to understand user behavior</li>
              <li>Performance cookies to optimize website speed</li>
              <li>Functional cookies to remember your preferences</li>
              <li>Marketing cookies for personalized content</li>
            </ul>
          </div>

          <!-- Types of Cookies We Use -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">3. Types of Cookies We Use</h2>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Essential Cookies</h3>
            <p class="text-gray-600 leading-relaxed mb-4">
              These cookies are necessary for the website to function and cannot be switched off in our
              systems. They are usually only set in response to actions made by you which amount to a
              request for services.
            </p>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Performance Cookies</h3>
            <p class="text-gray-600 leading-relaxed mb-4">
              These cookies allow us to count visits and traffic sources so we can measure and improve
              the performance of our site. They help us to know which pages are the most and least
              popular and see how visitors move around the site.
            </p>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Functional Cookies</h3>
            <p class="text-gray-600 leading-relaxed mb-4">
              These cookies enable the website to provide enhanced functionality and personalization.
              They may be set by us or by third-party providers whose services we have added to our pages.
            </p>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Targeting Cookies</h3>
            <p class="text-gray-600 leading-relaxed">
              These cookies may be set through our site by our advertising partners to build a profile
              of your interests and show you relevant adverts on other sites.
            </p>
          </div>

          <!-- Specific Cookies Used -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">4. Specific Cookies We Use</h2>

            <div class="bg-gray-50 rounded-lg p-6 mb-6">
              <h3 class="text-lg font-semibold mb-3 text-gray-800">Session Cookies</h3>
              <p class="text-gray-600 leading-relaxed mb-2">
                <strong>Cookie Name:</strong> session_id, PHPSESSID<br>
                <strong>Purpose:</strong> Maintain user session and authentication state<br>
                <strong>Duration:</strong> Session (deleted when browser closes)
              </p>
            </div>

            <div class="bg-gray-50 rounded-lg p-6 mb-6">
              <h3 class="text-lg font-semibold mb-3 text-gray-800">Analytics Cookies</h3>
              <p class="text-gray-600 leading-relaxed mb-2">
                <strong>Cookie Name:</strong> _ga, _gid, _gat<br>
                <strong>Purpose:</strong> Google Analytics for website traffic analysis<br>
                <strong>Duration:</strong> 2 years (_ga), 24 hours (_gid), 1 minute (_gat)
              </p>
            </div>

            <div class="bg-gray-50 rounded-lg p-6 mb-6">
              <h3 class="text-lg font-semibold mb-3 text-gray-800">Preference Cookies</h3>
              <p class="text-gray-600 leading-relaxed mb-2">
                <strong>Cookie Name:</strong> preferences, language, theme<br>
                <strong>Purpose:</strong> Remember user preferences and settings<br>
                <strong>Duration:</strong> 1 year
              </p>
            </div>

            <div class="bg-gray-50 rounded-lg p-6">
              <h3 class="text-lg font-semibold mb-3 text-gray-800">Security Cookies</h3>
              <p class="text-gray-600 leading-relaxed mb-2">
                <strong>Cookie Name:</strong> csrf_token, auth_token<br>
                <strong>Purpose:</strong> Prevent CSRF attacks and maintain secure sessions<br>
                <strong>Duration:</strong> Session or as specified
              </p>
            </div>
          </div>

          <!-- Third-Party Cookies -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">5. Third-Party Cookies</h2>
            <p class="text-gray-600 leading-relaxed mb-4">
              In addition to our own cookies, we may also use various third-party cookies to report
              usage statistics of the Service, deliver advertisements on and through the Service, and so on.
            </p>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Google Analytics</h3>
            <p class="text-gray-600 leading-relaxed mb-4">
              We use Google Analytics to understand how our website is used. Google Analytics uses cookies
              to collect information such as how often users visit our site, what pages they visit, and
              what other sites they used prior to coming to our site.
            </p>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Social Media Integration</h3>
            <p class="text-gray-600 leading-relaxed">
              Our website may include social media features and widgets, such as the "Like" button and
              "Share" button. These features may collect your IP address, which page you are visiting on
              our site, and may set a cookie to enable the feature to function properly.
            </p>
          </div>

          <!-- Managing Cookies -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">6. Managing Your Cookie Preferences</h2>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Browser Settings</h3>
            <p class="text-gray-600 leading-relaxed mb-4">
              Most web browsers allow you to control cookies through their settings preferences. However,
              if you choose to disable cookies, it may limit your ability to use certain features of our
              website.
            </p>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Cookie Consent Banner</h3>
            <p class="text-gray-600 leading-relaxed mb-4">
              When you first visit our website, you will see a cookie consent banner that allows you to
              accept or reject non-essential cookies. You can change your preferences at any time by
              clicking the cookie settings link in the footer of our website.
            </p>

            <h3 class="text-xl font-semibold mb-3 text-gray-800">Opt-Out Tools</h3>
            <p class="text-gray-600 leading-relaxed">
              Some third-party services provide opt-out tools that allow you to opt out of their
              tracking cookies. These include:
            </p>
            <ul class="list-disc list-inside text-gray-600 space-y-2">
              <li><a href="https://tools.google.com/dlpage/gaoptout" class="text-blue-600 hover:text-blue-800 underline">Google Analytics Opt-out</a></li>
              <li><a href="https://www.aboutads.info/choices/" class="text-blue-600 hover:text-blue-800 underline">Digital Advertising Alliance Opt-out</a></li>
              <li><a href="https://youronlinechoices.com/" class="text-blue-600 hover:text-blue-800 underline">Your Online Choices</a></li>
            </ul>
          </div>

          <!-- Cookie Policy Updates -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">7. Updates to This Cookie Policy</h2>
            <p class="text-gray-600 leading-relaxed">
              We may update this Cookie Policy from time to time to reflect changes in our use of cookies
              or for other operational, legal, or regulatory reasons. We will notify you of any material
              changes by posting the new policy on this page and updating the "Last updated" date.
            </p>
          </div>

          <!-- Contact Us -->
          <div>
            <h2 class="text-2xl font-bold mb-4 text-gray-900">8. Contact Us</h2>
            <p class="text-gray-600 leading-relaxed mb-4">
              If you have any questions about this Cookie Policy, please contact us:
            </p>
            <div class="bg-gray-50 rounded-lg p-6">
              <ul class="space-y-2 text-gray-600">
                <li><strong>Email:</strong> privacy@minicode.dev</li>
                <li><strong>Website:</strong> <a href="https://minicode.dev" class="text-blue-600 hover:text-blue-800 underline">https://minicode.dev</a></li>
              </ul>
            </div>
          </div>

        </div>
      </div>

      <!-- Cookie Settings Button -->
      <div class="mt-12 text-center">
        <div class="inline-flex flex-wrap gap-4 justify-center">
          <button onclick="window.openCookieSettings()" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300 hover:scale-105">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
            Manage Cookie Preferences
          </button>
          <a href="/privacy" class="inline-flex items-center px-6 py-3 bg-white border border-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all duration-300">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
            </svg>
            Privacy Policy
          </a>
          <a href="/terms" class="inline-flex items-center px-6 py-3 bg-white border border-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all duration-300">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
            Terms of Service
          </a>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Cookie consent management
    window.openCookieSettings = function() {
      // This would open a cookie settings modal
      alert('Cookie settings modal would open here. In production, this would open a proper settings interface.');
    };
  </script>
</Layout>